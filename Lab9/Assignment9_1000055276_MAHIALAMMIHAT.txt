//task1

class SmartSecurityCamera extends SmartDevice{
    private int storage;
    private int used;
    private boolean Nvision;

    public SmartSecurityCamera(String name,double battery,int storage){
        super(name,battery);
        this.storage=storage;
        this.used=0;
        this.Nvision=false;
    }

    public void record(boolean nightVisionOn){
        if(!isActive){
            System.out.println("Error: "+deviceName+" is OFF. Recording disabled.");
            return;
        }
        if(used>=storage){
            System.out.println("Error: "+deviceName+" storage full. Recording disabled.");
            return;
        }
        Nvision=nightVisionOn;
        if(Nvision){
            System.out.println("[IR SENSORS ACTIVE]");
        }
        System.out.println("Recording standard footage.");
        used++;
    }

    public void record(){
        if(!isActive){
            System.out.println("Error: "+deviceName+" storage full. Recording disabled.");
            return;
        }
        if(used>=storage){
            System.out.println("Error: "+deviceName+" storage full. Recording disabled.");
            return;
        }
        System.out.println("Recording standard footage.");
        used++;
    }

    @Override
    public void powerOff(){
        if(Nvision){
            System.out.println("Turning off Night Vision.");
            Nvision=false;
        }
        super.powerOff();
    }

    public void formatCard(String pin){
        System.out.println("REQUEST: Format SD Card initiated.");
        if(!isActive){
            System.out.println("ERROR: Device must be ON to format.");
            return;
        }
        if(!pin.equals("ADMIN123")){
            System.out.println("ACCESS DENIED: Incorrect PIN.");
            return;
        }
        System.out.println("Auth Success. Wiping data.");
        used=0;
        System.out.println("SUCCESS: Storage restored to "+storage+"GB.");
    }
}


//task2

class UpsideDown extends Hawkins{
    private Hawkins bridge1;
    private Hawkins bridge2;
    public static int totalBridges=0;

    public UpsideDown(String name){
        super(name);
    }

    public void connect(Hawkins h){
        if(!status){
            System.out.println("No further bridges with "+name);
            return;
        }
        if(bridge1==null){
            bridge1=h;
            h.status=true;
            totalBridges++;
        }else if(bridge2==null){
            bridge2=h;
            h.status=true;
            totalBridges++;
        }else{
            System.out.println("No further bridges with "+name);
        }
    }

    public void disconnect(int n){
        if(n==1&&bridge1!=null){
            bridge1.status=false;
            bridge1=null;
            totalBridges--;
        }else if(n==2&&bridge2!=null){
            bridge2.status=false;
            bridge2=null;
            totalBridges--;
        }else{
            System.out.println("Invalid bridge number!");
        }
    }

    public void activate(Hawkins h){
        System.out.println("Activating the door of "+h.name);
    }

    public Hawkins getBridge1(){
        return bridge1;
    }

    public Hawkins getBridge2(){
        return bridge2;
    }

    public void details(){
        System.out.println(name+" Details:");
        if(bridge1!=null){
            System.out.println("Bridge 1: "+bridge1.name);
        }
        if(bridge2!=null){
            System.out.println("Bridge 2: "+bridge2.name);
        }
    }
}


//task3

class Car extends Vehicle{
    private String model;
    private int doors;
    private boolean autoPilot;

    public Car(String brand,String model,int year,int doors,int wheels,boolean autoPilot){
        super(brand,year);
        this.model=model;
        this.doors=doors;
        this.autoPilot=autoPilot;
        setWheels(wheels);
    }

    public void startAutoPilot(){
        if(autoPilot){
            System.out.println(getBrand()+":"+model+" AutoPilot Started");
        }else{
            System.out.println(getBrand()+":"+model+" has NO AutoPilot");
        }
    }

    @Override
    public String toString(){
        return "Car Brand: "+getBrand()+", Year: "+getYear()+", Wheels: "+getWheels()
                +", Model: "+model+", Doors: "+doors+", AI: "+autoPilot;
    }
}


class Bike extends Vehicle{
    private String model;
    private boolean sideCar;

    public Bike(String brand,String model,int year,int wheels,boolean sideCar){
        super(brand,year);
        this.model=model;
        this.sideCar=sideCar;
        setWheels(wheels);
    }

    public void doAWheelie(){
        if(sideCar){
            System.out.println("Wheelie Failed. "+getBrand()+":"+model+" has SideCar");
        }else{
            System.out.println(getBrand()+":"+model+" is doing Wheelie!!");
        }
    }

    @Override
    public String toString(){
        return "Bike Brand: "+getBrand()+", Year: "+getYear()+", Wheels: "+getWheels()
                +", Model: "+model+", SideCar: "+sideCar;
    }
}

class Garage{
    public Car[] cars;
    public Bike[] bikes;
    private int carCount=0;
    private int bikeCount=0;

    public Garage(int carCap,int bikeCap){
        cars=new Car[carCap];
        bikes=new Bike[bikeCap];
        System.out.println("Welcome to the Garage!");
        System.out.println("Car Capacity: "+carCap);
        System.out.println("Bike Capacity: "+bikeCap);
    }

    public void addVehicle(Vehicle v){
        if(v instanceof Car){
            if(carCount<cars.length){
                cars[carCount++]=(Car)v;
                System.out.println("A "+v.getBrand()+" CAR has been added to the Garage");
            }else{
                System.out.println("Can't add more Cars! Capacity: "+cars.length);
            }
        }
        else if(v instanceof Bike){
            if(bikeCount<bikes.length){
                bikes[bikeCount++]=(Bike)v;
                System.out.println("A "+v.getBrand()+" BIKE has been added to the Garage");
            }else{
                System.out.println("Can't add more bikes! Capacity: "+bikes.length);
            }
        }
    }
}
